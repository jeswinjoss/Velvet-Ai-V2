- name: Setup Node
    uses: actions/setup-node@v4
    with:
      node-version: '20'
      # Removed cache: 'npm' because package-lock.json might be missing

  - name: Install dependencies
    run: npm install
  
  - name: Build
    run: npm run build
    env:
      API_KEY: ${{ secrets.API_KEY }}

  - name: Upload artifact
    uses: actions/upload-pages-artifact@v3
    with:
      path: ./dist
